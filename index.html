<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memories</title>
<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:url("IMG_20260223_081611.jpg") no-repeat center center fixed;
  background-size:cover;
  text-align:center;
}

.hidden{display:none;}

button{
  padding:18px 35px;
  font-size:24px;
  border:none;
  border-radius:40px;
  background:pink;
  cursor:pointer;
  margin:15px;
  font-family:cursive;
  box-shadow:0 0 10px rgba(255,105,180,0.7);
  transition:transform 0.2s;
}
button:active{transform:scale(0.95);}

#gallery img{
  width:120px;
  margin:10px;
  border-radius:12px;
  box-shadow:0 0 10px rgba(0,0,0,0.5);
}

input{
  padding:12px;
  font-size:18px;
  border-radius:10px;
  border:none;
}

#quoteText{
  font-style:italic;
  font-size:18px;
  margin:20px;
}
</style>
</head>

<body>

<!-- GIFT PAGE -->
<div id="giftPage">
  <h1>üéÅ Open Gift</h1>
  <button onclick="openGift()">Open Gift</button>
</div>

<!-- MAIN PAGE -->
<div id="mainPage" class="hidden">
  <button onclick="openVerify()">Memories</button>

  <div id="gallery"></div>

  <div id="quoteText"></div>
  <button onclick="leaveQuote()">Leave a Quote</button>
</div>

<!-- VERIFY PAGE -->
<div id="verifyPage" class="hidden">
  <h2>Dear best friend, it's really you. Verify it.</h2>
  <button onclick="openPassword()">Verify</button>
</div>

<!-- PASSWORD PAGE -->
<div id="passwordPage" class="hidden">
  <h2>Enter Password</h2>
  <input type="password" id="passwordInput" placeholder="Password">
  <br><br>
  <button onclick="checkPassword()">Submit</button>
</div>

<!-- ADD MEMORY PAGE -->
<div id="addPage" class="hidden">
  <h2>Add Memories (max 10)</h2>
  <input type="file" id="fileInput" multiple accept="image/*">
  <br><br>
  <button onclick="addMemories()">Add Memories</button>
  <br><br>
  <button onclick="goHome()">Back</button>
</div>

<script>
let memories = JSON.parse(localStorage.getItem("memories")) || [];
let quote = localStorage.getItem("quote") || "";

const giftPage = document.getElementById("giftPage");
const mainPage = document.getElementById("mainPage");
const verifyPage = document.getElementById("verifyPage");
const passwordPage = document.getElementById("passwordPage");
const addPage = document.getElementById("addPage");
const gallery = document.getElementById("gallery");
const quoteText = document.getElementById("quoteText");

if(memories.length>0){
  openGift();
}

function openGift(){
  giftPage.classList.add("hidden");
  mainPage.classList.remove("hidden");
  showImages();
  showQuote();
}

function openVerify(){
  mainPage.classList.add("hidden");
  verifyPage.classList.remove("hidden");
}

function openPassword(){
  verifyPage.classList.add("hidden");
  passwordPage.classList.remove("hidden");
}

function checkPassword(){
  let pwd=document.getElementById("passwordInput").value;
  if(pwd==="friendship"){
    passwordPage.classList.add("hidden");
    addPage.classList.remove("hidden");
  }else{
    alert("Wrong password");
  }
}

function addMemories(){
  const files=document.getElementById("fileInput").files;

  if(memories.length+files.length>10){
    alert("Only 10 images allowed");
    return;
  }

  for(let file of files){
    const reader=new FileReader();
    reader.onload=function(e){
      memories.push(e.target.result);
      localStorage.setItem("memories",JSON.stringify(memories));
      showImages();
    }
    reader.readAsDataURL(file);
  }

  addPage.classList.add("hidden");
  mainPage.classList.remove("hidden");
}

function showImages(){
  gallery.innerHTML="";
  memories.forEach((src,index)=>{
    let img=document.createElement("img");
    img.src=src;

    let timer;
    img.ontouchstart=()=>{
      timer=setTimeout(()=>{
        if(confirm("Delete this memory?")){
          memories.splice(index,1);
          localStorage.setItem("memories",JSON.stringify(memories));
          showImages();
        }
      },1000);
    };
    img.ontouchend=()=>clearTimeout(timer);

    gallery.appendChild(img);
  });
}

function leaveQuote(){
  let q=prompt("Write your quote");
  if(q){
    quote=q;
    localStorage.setItem("quote",quote);
    showQuote();
  }
}

function showQuote(){
  if(quote){
    quoteText.innerHTML='"'+quote+'"';
  }
}

function goHome(){
  addPage.classList.add("hidden");
  mainPage.classList.remove("hidden");
}
</script>

</body>
  </html>
