<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Memories</title>

<style>
body{
  margin:0;
  min-height:100vh;
  background:url("IMG_20260223_081611.jpg") no-repeat center center fixed;
  background-size:cover;
  font-family:Arial;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
}

.page{
  display:none;
  width:100%;
  padding:20px;
}

.active{
  display:block;
}

button{
  padding:18px 40px;
  font-size:26px;
  border:none;
  border-radius:40px;
  background:pink;
  font-family:cursive;
  box-shadow:0 5px 15px rgba(0,0,0,0.3);
  transition:transform 0.2s, background 0.2s;
}

button:active{
  transform:scale(0.9);
  background:#ff9acb;
}

img{
  width:90%;
  max-width:300px;
  margin:10px;
  border-radius:15px;
}

#images{
  margin-top:20px;
}

#quoteText{
  font-style:italic;
  font-size:20px;
  margin:20px;
  color:white;
  text-shadow:1px 1px 3px black;
}

input{
  padding:10px;
  font-size:18px;
  border-radius:10px;
  border:none;
}
</style>
</head>
<body>

<!-- OPEN GIFT -->
<div id="giftPage" class="page active">
  <h1>üéÅ Open Gift</h1>
  <button onclick="openGift()">Open Gift</button>
</div>

<!-- MAIN PAGE -->
<div id="mainPage" class="page">
  <h1 style="font-family:cursive;color:white;text-shadow:2px 2px 4px black;">Memories</h1>
  <button onclick="goVerify()">Memories</button>

  <div id="images"></div>
  <div id="quoteText"></div>
</div>

<!-- VERIFY -->
<div id="verifyPage" class="page">
  <h2 style="color:white;text-shadow:1px 1px 3px black;">
    Dear best friend, it's really you. Verify it.
  </h2>
  <button onclick="askPassword()">Verify</button>
</div>

<!-- PASSWORD -->
<div id="passwordPage" class="page">
  <h3 style="color:white;">Enter Password</h3>
  <input type="password" id="passInput"><br><br>
  <button onclick="checkPass()">Submit</button>
</div>

<!-- ADD MEMORIES -->
<div id="addPage" class="page">
  <h3 style="color:white;">Add Memories (max 10)</h3>
  <input type="file" id="fileInput" multiple accept="image/*"><br><br>
  <button onclick="addImages()">Add</button><br><br>
  <button onclick="leaveQuote()">Leave a Quote</button>
</div>

<script>
let images = JSON.parse(localStorage.getItem("images")) || [];
let quote = localStorage.getItem("quote") || "";

function show(page){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(page).classList.add("active");
}

function openGift(){
  show("mainPage");
  showImages();
}

function goVerify(){
  show("verifyPage");
}

function askPassword(){
  show("passwordPage");
}

function checkPass(){
  let p=document.getElementById("passInput").value;
  if(p==="friendship"){
    show("addPage");
  }else{
    alert("Wrong password");
  }
}

function addImages(){
  let files=document.getElementById("fileInput").files;
  if(images.length+files.length>10){
    alert("Max 10 images");
    return;
  }

  for(let file of files){
    let reader=new FileReader();
    reader.onload=e=>{
      images.push(e.target.result);
      localStorage.setItem("images",JSON.stringify(images));
      showImages();
    };
    reader.readAsDataURL(file);
  }

  show("mainPage");
}

function showImages(){
  let div=document.getElementById("images");
  div.innerHTML="";
  images.forEach((src,i)=>{
    let img=document.createElement("img");
    img.src=src;

    let timer;
    img.addEventListener("touchstart",()=>{
      timer=setTimeout(()=>{
        if(confirm("Delete this image?")){
          images.splice(i,1);
          localStorage.setItem("images",JSON.stringify(images));
          showImages();
        }
      },1000);
    });

    img.addEventListener("touchend",()=>clearTimeout(timer));

    div.appendChild(img);
  });

  if(quote){
    document.getElementById("quoteText").innerText='"'+quote+'"';
  }
}

function leaveQuote(){
  let q=prompt("Write your quote:");
  if(q){
    quote=q;
    localStorage.setItem("quote",quote);
    showImages();
  }
}
</script>

</body>
</html>